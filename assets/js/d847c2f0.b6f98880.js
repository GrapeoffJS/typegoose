"use strict";(self.webpackChunktypegoose_website=self.webpackChunktypegoose_website||[]).push([[8421],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var r=a.createContext({}),s=function(e){var t=a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(r.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,r=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(n),u=i,h=c["".concat(r,".").concat(u)]||c[u]||m[u]||o;return n?a.createElement(h,p(p({ref:t},d),{},{components:n})):a.createElement(h,p({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,p=new Array(o);p[0]=c;var l={};for(var r in t)hasOwnProperty.call(t,r)&&(l[r]=t[r]);l.originalType=e,l.mdxType="string"==typeof e?e:i,p[1]=l;for(var s=2;s<o;s++)p[s]=n[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},276:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return r},default:function(){return u},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return m}});var a=n(7462),i=n(3366),o=(n(7294),n(3905)),p=["components"],l={id:"prop",title:"@prop"},r=void 0,s={unversionedId:"api/decorators/prop",id:"api/decorators/prop",title:"@prop",description:"Typings:",source:"@site/../docs/api/decorators/prop.md",sourceDirName:"api/decorators",slug:"/api/decorators/prop",permalink:"/typegoose/docs/api/decorators/prop",draft:!1,editUrl:"https://github.com/typegoose/typegoose/edit/master/docs/../docs/api/decorators/prop.md",tags:[],version:"current",frontMatter:{id:"prop",title:"@prop"},sidebar:"docs",previous:{title:"Environment Variables",permalink:"/typegoose/docs/api/environment-variables"},next:{title:"@modelOptions",permalink:"/typegoose/docs/api/decorators/model-options"}},d={},m=[{value:"Single Options",id:"single-options",level:2},{value:"required",id:"required",level:3},{value:"index",id:"index",level:3},{value:"unique",id:"unique",level:3},{value:"default",id:"default",level:3},{value:"_id",id:"_id",level:3},{value:"ref",id:"ref",level:3},{value:"refPath",id:"refpath",level:3},{value:"validate",id:"validate",level:3},{value:"alias",id:"alias",level:3},{value:"select",id:"select",level:3},{value:"get &amp; set",id:"get--set",level:3},{value:"type",id:"type",level:3},{value:"enum",id:"enum",level:3},{value:"addNullToEnum",id:"addnulltoenum",level:3},{value:"discriminators",id:"discriminators",level:3},{value:"innerOptions",id:"inneroptions",level:3},{value:"outerOptions",id:"outeroptions",level:3},{value:"allowMixed",id:"allowmixed",level:3},{value:"Array Options",id:"array-options",level:2},{value:"dim",id:"dim",level:3},{value:"Map Options",id:"map-options",level:2},{value:"String Transform options",id:"string-transform-options",level:2},{value:"lowercase",id:"lowercase",level:3},{value:"uppercase",id:"uppercase",level:3},{value:"trim",id:"trim",level:3},{value:"String Validation options",id:"string-validation-options",level:2},{value:"maxlength",id:"maxlength",level:3},{value:"minlength",id:"minlength",level:3},{value:"match",id:"match",level:3},{value:"Number Validation options",id:"number-validation-options",level:2},{value:"max",id:"max",level:3},{value:"min",id:"min",level:3},{value:"Virtual Populate Options",id:"virtual-populate-options",level:2},{value:"ref",id:"virtual-populate-ref",level:3},{value:"foreignField",id:"foreignfield",level:3},{value:"localField",id:"localfield",level:3},{value:"justOne",id:"justone",level:3},{value:"count",id:"count",level:3},{value:"options",id:"virtual-populate-options-option",level:3},{value:"match",id:"virtual-populate-match",level:3},{value:"PropType",id:"proptype",level:2},{value:"Passthrough Class",id:"passthrough-class",level:2},{value:"Non-Direct",id:"passthrough-nondirect",level:3},{value:"Direct",id:"passthrough-direct",level:3}],c={toc:m};function u(e){var t=e.components,n=(0,i.Z)(e,p);return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Typings:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"function prop(\n  options?: BasePropOptions | ArrayPropOptions | MapPropOptions | PropOptionsForNumber | PropOptionsForString | VirtualOptions,\n  kind?: PropType\n): PropertyDecorator\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Parameters:")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,o.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"options")," ",(0,o.kt)("span",{class:"badge badge--secondary"},"Required")),(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("inlineCode",{parentName:"td"},"BasePropOptions")),(0,o.kt)("td",{parentName:"tr",align:"left"},"The Option to set for the following property")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"kind")),(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("a",{parentName:"td",href:"#proptype"},(0,o.kt)("inlineCode",{parentName:"a"},"PropType"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Overwrite what Kind is used")))),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"@prop")," is used to mark properties to be in the Schema and also set Options of that property."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Any Property that does not have ",(0,o.kt)("inlineCode",{parentName:"p"},"@prop")," on it, will not be in the Schema, because it cannot be seen at runtime."))),(0,o.kt)("h2",{id:"single-options"},"Single Options"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class Cat {\n  @prop()\n  public name?: string;\n}\n\nclass Cat2 {\n  @prop({ type: () => String }) // explicitly define the Type\n  public name?: string;\n}\n\nclass Cat3 {\n  @prop({ type: () => String }, PropType) // explicitly define the "PropType"\n  public name?: string;\n}\n')),(0,o.kt)("h3",{id:"required"},"required"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Set this to true, if the property is required (best practice is ",(0,o.kt)("inlineCode",{parentName:"p"},"public property!: any"),", note the ",(0,o.kt)("inlineCode",{parentName:"p"},"!"),")",(0,o.kt)("br",{parentName:"p"}),"\n","For more information see the ",(0,o.kt)("a",{parentName:"p",href:"http://mongoosejs.com/docs/api.html#schematype_SchemaType-required"},"mongoose documentation")),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class Something {\n  @prop({ required: true }) // this is now required in the schema\n  public firstName!: string;\n\n  @prop() // by default, a property is not required\n  public lastName?: string; // using the "?" marks the property as optional\n}\n')),(0,o.kt)("h3",{id:"index"},"index"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Create an Index for this Property. Should act like the ",(0,o.kt)("inlineCode",{parentName:"p"},"@index")," class decorator, but without options."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class IndexedClass {\n  @prop({ index: true })\n  public indexedField?: string;\n}\n")),(0,o.kt)("h3",{id:"unique"},"unique"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Create an Index that sets this property to be ",(0,o.kt)("a",{parentName:"p",href:"http://mongoosejs.com/docs/api.html#schematype_SchemaType-unique"},"unique"),"."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class IndexedClass {\n  @prop({ unique: true }) // implicitly has "index: true"\n  public uniqueId?: string;\n}\n')),(0,o.kt)("h3",{id:"default"},"default"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"any")),(0,o.kt)("p",null,"Set a default, when no value is given at creation time."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Defaulted {\n  @prop({ default: 'hello world' })\n  public upperCase?: string; // mark as optional, because it will be defaulted\n}\n")),(0,o.kt)("p",null,"You may also set the ",(0,o.kt)("inlineCode",{parentName:"p"},"default")," schema option to a function. Mongoose will execute that function and use the return value as the default."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Defaulted {\n  @prop({ required: true })\n  firstName!: string\n  @prop({ required: true })\n  lastName!: string\n  \n  @prop({ \n    default: function (this: DocumentType<Defaulted>) {\n      return `${this.firstName} ${this.lastName}`\n    }\n  })\n  public fullName?: string; // mark as optional, because it will be defaulted\n}\n")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"To have the ",(0,o.kt)("inlineCode",{parentName:"p"},"this")," keyword correctly typed, you have to pass a defined ",(0,o.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters"},"this parameter"),"."))),(0,o.kt)("h3",{id:"_id"},"_id"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Set this to ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),", if you want to turn off creating IDs for sub-documents."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Nested {}\n\nclass Parent {\n  @prop({ _id: false })\n  public nest: Nested;\n}\n")),(0,o.kt)("h3",{id:"ref"},"ref"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"Class | string")),(0,o.kt)("p",null,"Set which class to use for Reference (this cannot be inferred by the type)."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/typegoose/docs/guides/advanced/reference-other-classes#common-problems"},"Look here where ",(0,o.kt)("inlineCode",{parentName:"a"},"Class")," cannot be used")),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Kitten {\n  @prop()\n  public name?: string;\n}\n\nclass Cat {\n  // single examples\n  @prop({ ref: () => Kitten })\n  public kitten?: Ref<Kitten>;\n  // or\n  @prop({ ref: 'Kitten' })\n  public kitten?: Ref<Kitten>;\n\n  // array examples\n  @prop({ ref: () => Kitten })\n  public kittens?: Ref<Kitten>[];\n  // or\n  @prop({ ref: 'Kitten' })\n  public kittens?: Ref<Kitten>[];\n}\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"'Nested'"),"(as string) form is useful to avoid unintuitive errors due to circular dependencies, such as ",(0,o.kt)("a",{parentName:"p",href:"/typegoose/docs/guides/error-warning-details#ref-is-undefined-e005"},(0,o.kt)("inlineCode",{parentName:"a"},'Option "ref" for "${name}.${key}" is null/undefined! [E005]')),"."),(0,o.kt)("h3",{id:"refpath"},"refPath"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"string")),(0,o.kt)("p",null,"Set which path to look for which Class to use."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Car {}\nclass Shop {}\n\n// in another class\nclass Another {\n  @prop({ required: true, enum: 'Car' | 'Shop' })\n  public which!: string;\n\n  @prop({ refPath: 'which' })\n  public kind?: Ref<Car | Shop>;\n}\n")),(0,o.kt)("h3",{id:"validate"},"validate"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"object")," OR ",(0,o.kt)("inlineCode",{parentName:"p"},"RegExp")," OR ",(0,o.kt)("inlineCode",{parentName:"p"},"(value) => boolean")," OR ",(0,o.kt)("inlineCode",{parentName:"p"},"object[]")," Required options of the object:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"validator"),": ",(0,o.kt)("inlineCode",{parentName:"li"},"(value) => boolean")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"message"),": ",(0,o.kt)("inlineCode",{parentName:"li"},"String"),", the message shows when the validator fails")),(0,o.kt)("p",null,"Set a custom function for validation (must return a boolean)."),(0,o.kt)("p",null,"Example: (For more Examples look at ",(0,o.kt)("a",{parentName:"p",href:"https://mongoosejs.com/docs/api.html#schematype_SchemaType-validate"},"Mongoose's Documentation"),")"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// \"maxlength\" already exists as an option, this just shows how to use validate\nclass Validated {\n  @prop({\n    validate: {\n      validator: (v) => {\n        return v.length <= 10;\n      },\n      message: 'value is over 10 characters long!'\n    }\n  })\n  public validated?: string;\n}\n")),(0,o.kt)("h3",{id:"alias"},"alias"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"string")),(0,o.kt)("p",null,"Set an Alias for a property (best practice is to add type information for it)."),(0,o.kt)("p",null,"-> For more information see the ",(0,o.kt)("a",{parentName:"p",href:"https://mongoosejs.com/docs/guide.html#aliases"},"mongoose documentation")),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Dummy {\n  @prop({ alias: 'helloWorld' })\n  public hello: string; // will be included in the DB\n  public helloWorld: string; // will NOT be included in the DB, just for type completion (gets passed as hello in the DB)\n}\n")),(0,o.kt)("h3",{id:"select"},"select"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Set it to ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),", if you want to retrieve data without this property by default",(0,o.kt)("br",{parentName:"p"}),"\n","-> ",(0,o.kt)("a",{parentName:"p",href:"https://mongoosejs.com/docs/api.html#schematype_SchemaType-select"},"Read more in Mongoose's offical documentation")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Dummy {\n  @prop({ select: false })\n  public hello: string;\n}\n")),(0,o.kt)("p",null,"In order to retrieve a prop marked as ",(0,o.kt)("inlineCode",{parentName:"p"},"select: false"),", you must explicitly ask for it:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// find all in the collection and have the \"hello\" property selected\nconst dummies = await DummyModel.find().select('+hello').exec();\n")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("inlineCode",{parentName:"p"},"select()")," accepts an array as well"))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("inlineCode",{parentName:"p"},"select()")," accepts a long string with space as a separator"))),(0,o.kt)("h3",{id:"get--set"},"get & set"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"(input) => output")),(0,o.kt)("p",null,"Set getters & setters for fields, it is not virtual.  "),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Both ",(0,o.kt)("inlineCode",{parentName:"p"},"get")," & ",(0,o.kt)("inlineCode",{parentName:"p"},"set")," must be defined all the time, even when just wanting to use one."))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If the ",(0,o.kt)("a",{parentName:"p",href:"#PropType"},"PropType")," (Primitive / Array / Map) is different from what is got from the reflection, it requires ",(0,o.kt)("strong",{parentName:"p"},"explicit")," setting that it is different"))),(0,o.kt)("p",null,"Pre-process string to string:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Dummy {\n  @prop({ set: (val: string) => val.toLowerCase(), get: (val: string) => val })\n  public hello: string;\n}\n")),(0,o.kt)("p",null,"Store string, runtime have string array (string array to string):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class Dummy {\n  // this value is a "string-array" during runtime and is stored in the database as a "primite-string"\n  @prop({ set: (val: string[]) => val.join(\' \'), get: (val: string) => val.split(\' \'), type: String }, PropType.NONE) // requires explicit setting of "PropType"\n  public fullName?: string[];\n}\n')),(0,o.kt)("h3",{id:"type"},"type"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"any | () => any")),(0,o.kt)("p",null,"Overwrite the type generated for the ",(0,o.kt)("inlineCode",{parentName:"p"},"design:type")," reflection"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Mongoose initializes arrayProp arrays with ",(0,o.kt)("inlineCode",{parentName:"p"},"[]")," instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"null")," / ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined")))),(0,o.kt)("p",null,"Example: Arrays (array item types can't be automatically inferred via Reflect)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Dummy {\n  @prop({ type: String })\n  public hello: string[];\n}\n")),(0,o.kt)("p",null,"Example: get as ",(0,o.kt)("inlineCode",{parentName:"p"},"string[]"),", save as ",(0,o.kt)("inlineCode",{parentName:"p"},"string")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Dummy {\n  @prop({ set: (val: string[]) => val.join(' '), get: (val: string) => val.split(' '), type: String })\n  public hello: string[];\n}\n")),(0,o.kt)("p",null,"Example: Overwrite type for an enum."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"enum SomeEnum {\n  One,\n  Two\n}\nclass Dummy {\n  @prop({ enum: SomeEnum, type: Number })\n  public enumprop: SomeEnum;\n}\n")),(0,o.kt)("p",null,"Example: Overwrite the inferred type as a last resort."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Dummy {\n  @prop({ type: mongoose.Schema.Types.Mixed }) // used for mongoose / how it is stored to the DB\n  public something: NewableFunction; // used for intellisense / TypeScript\n}\n")),(0,o.kt)("h3",{id:"enum"},"enum"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"enum | any[]")),(0,o.kt)("p",null,"Only allow values from the enum (best practice is to use TypeScript's enum)."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("inlineCode",{parentName:"p"},"design:type")," will be set to ",(0,o.kt)("inlineCode",{parentName:"p"},"String"),", if the enum is full of Strings, and ",(0,o.kt)("inlineCode",{parentName:"p"},"Number"),", if full of Numbers and ",(0,o.kt)("inlineCode",{parentName:"p"},"Object")," of the enum contains both."))),(0,o.kt)("p",null,"Example for String-Enums:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"enum Gender {\n  MALE = 'male',\n  FEMALE = 'female'\n}\n\nclass Enumed {\n  @prop({ enum: Gender })\n  public gender?: Gender;\n}\n")),(0,o.kt)("p",null,"Example for Number-Enums:",(0,o.kt)("br",{parentName:"p"}),"\n","(since mongoose 5.8 and typegoose 6.2)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'enum Gender {\n  MALE, // equal to "= 0"\n  FEMALE // equal to "= 1"\n}\n\nclass Enumed {\n  @prop({ enum: Gender })\n  public gender?: Gender;\n}\n')),(0,o.kt)("p",null,"Known-Issues:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Babel doesn't set the type for enums correctly. They need to be set manually with ",(0,o.kt)("a",{parentName:"li",href:"#type"},"the ",(0,o.kt)("inlineCode",{parentName:"a"},"type")," option")),(0,o.kt)("li",{parentName:"ul"},"If transpiling your code with ",(0,o.kt)("inlineCode",{parentName:"li"},"tsc --transpile-only")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"ts-node -- transpile-only"),", then the ",(0,o.kt)("inlineCode",{parentName:"li"},"--transpile-only")," needs to be removed or the type needs to be set manually with ",(0,o.kt)("a",{parentName:"li",href:"#type"},"the ",(0,o.kt)("inlineCode",{parentName:"a"},"type")," option")," (see ",(0,o.kt)("a",{parentName:"li",href:"/typegoose/docs/guides/known-issues#babel"},"Known-Issues: Babel"),")")),(0,o.kt)("h3",{id:"addnulltoenum"},"addNullToEnum"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Adds ",(0,o.kt)("inlineCode",{parentName:"p"},"null")," to the enum array."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This doesn't work if the value is ",(0,o.kt)("inlineCode",{parentName:"p"},"required")))),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"enum SomeNumberEnum {\n  one = 1,\n  two = 2\n}\nclass AddNullToEnum {\n  @prop({ enum: SomeNumberEnum, addNullToEnum: true })\n  public value?: SomeNumberEnum;\n}\n\nconst AddNullToEnumModel = getModelForClass(AddNullToEnum);\n\nAddNullToEnumModel.schema.path('value').options.enum === [1, 2, null]; // true\n\n// this is necessary to avoid a validation error\nnew AddNullToEnumModel({ value: null } as AddNullToEnum);\n")),(0,o.kt)("h3",{id:"discriminators"},"discriminators"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"() => [DiscriminatorObject | Class]")),(0,o.kt)("p",null,"Use this function for embedded discriminators."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"discriminatorKey")," (like in the example property ",(0,o.kt)("inlineCode",{parentName:"p"},"type"),") needs to be always set in a newly created document (via ",(0,o.kt)("inlineCode",{parentName:"p"},".create({ type: 'yourKey' })"),", or ",(0,o.kt)("inlineCode",{parentName:"p"},".save()"),")"))),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"[Class]"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"@modelOptions({\n  schemaOptions: {\n    discriminatorKey: 'type'\n  }\n})\nclass Building {\n  @prop({ default: 100 })\n  public width: number;\n\n  @prop({ required: true })\n  public type: string;\n}\n\nclass Garage extends Building {\n  @prop({ default: 10 })\n  public slotsForCars: number;\n}\n\nclass SummerHouse extends Building {\n  @prop({ default: 100 })\n  public distanceToLake: number;\n}\n\nclass Area {\n  @prop({ type: Building, discriminators: () => [Garage, SummerHouse] })\n  public buildings: Building[];\n}\n\nconst AreaModel = getModelForClass(Area);\n\n// then somewhere in an async function\nconst area = await AreaModel.create({});\narea.buildings.push({ type: getName(SummerHouse), distanceToLake: 100 } as SummerHouse);\narea.buildings.push({ type: getName(Garage), slotsForCars: 20 } as Garage);\nawait area.save();\n")),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"[DiscriminatorObject]"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"@modelOptions({\n  schemaOptions: {\n    discriminatorKey: 'type'\n  }\n})\nclass Building {\n  @prop({ default: 100 })\n  public width: number;\n\n  @prop({ required: true })\n  public type: string;\n}\n\nclass Garage extends Building {\n  @prop({ default: 10 })\n  public slotsForCars: number;\n}\n\nclass SummerHouse extends Building {\n  @prop({ default: 100 })\n  public distanceToLake: number;\n}\n\nclass Area {\n  @prop({\n    type: Building,\n    discriminators: () => [\n      { type: Garage, value: 'G' },\n      { type: SummerHouse, value: 'S' }\n    ]\n  })\n  public buildings: Building[];\n}\n\nconst AreaModel = getModelForClass(Area);\n\n// then somewhere in an async function\nconst area = await AreaModel.create({});\narea.buildings.push({ type: 'S', distanceToLake: 100 } as SummerHouse);\narea.buildings.push({ type: 'G', slotsForCars: 20 } as Garage);\nawait area.save();\n")),(0,o.kt)("h3",{id:"inneroptions"},"innerOptions"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"innerOptions"),' is used to override options at the "Type" level'),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Use this only when absolutely necessary and please open a new issue about it"))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This option can be used everywhere ",(0,o.kt)("inlineCode",{parentName:"p"},"mapOptions")," function is called (currently being ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.ARRAY")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.MAP"),")"))),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Something {\n  @prop({ required: true })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String }],\n  required: true\n}\n\n// when using the override\nclass Something {\n  @prop({ innerOptions: { required: true } })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String, required: true }]\n}\n")),(0,o.kt)("h3",{id:"outeroptions"},"outerOptions"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"outerOptions"),' is used to override options at the "Array" level'),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Use this only when absolutely necessary and please open a new issue about it"))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This option can be used everywhere ",(0,o.kt)("inlineCode",{parentName:"p"},"mapOptions")," function is called (currently being ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.ARRAY")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.MAP"),")"))),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Something {\n  @prop({ maxlength: 1 })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String, maxlength: 1 }]\n}\n\n// when using the override\nclass Something {\n  @prop({ outerOptions: { maxlength: 1 } })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String }],\n  maxlength: 1\n}\n")),(0,o.kt)("h3",{id:"allowmixed"},"allowMixed"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"allowMixed")," is used to set a custom ",(0,o.kt)("inlineCode",{parentName:"p"},"warnMixed")," Severity for a specific Property.",(0,o.kt)("br",{parentName:"p"}),"\n","Takes priority over class-wide ",(0,o.kt)("inlineCode",{parentName:"p"},"allowMixed"),"."),(0,o.kt)("p",null,"See ",(0,o.kt)("a",{parentName:"p",href:"/typegoose/docs/api/decorators/model-options#allowmixed"},(0,o.kt)("inlineCode",{parentName:"a"},"modelOptions#allowMixed"))," for all possible variants for the enum."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class Something {\n  @prop({ allowMixed: Severity.ERROR, type: () => mongoose.Schema.Type.Mixed })\n  public propy?: any;\n}\n\nbuildSchema(Something); // would throw a "warnMixed" error\n')),(0,o.kt)("h2",{id:"array-options"},"Array Options"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Option ",(0,o.kt)("inlineCode",{parentName:"p"},"type")," must be provided, otherwise the array will result in ",(0,o.kt)("inlineCode",{parentName:"p"},"Mixed")," ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/typegoose/typegoose/issues/300"},"read typegoose issue #300 for more info")))),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class Kitten {\n  @prop()\n  public name?: string;\n}\n\nclass Cat {\n  @prop({ type: () => [Kitten] })\n  public kitten?: Kitten[]; // "[]" or "Array<any>" or "mongoose.Types.Array<any>" or "mongoose.Types.DocumentArray" is needed to be detected as an Array\n}\n\nclass Cat2 {\n  @prop({ type: () => [Kitten] }, PropType.ARRAY) // explicitly define the "PropType"\n  public kitten?: Kitten[];\n}\n')),(0,o.kt)("h3",{id:"dim"},"dim"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"dim")," is used to set the Dimensions this array should have (for something like a matrix)",(0,o.kt)("br",{parentName:"p"}),"\n","-> needs to be higher than 0",(0,o.kt)("br",{parentName:"p"}),"\n","-> ",(0,o.kt)("strong",{parentName:"p"},"This Option is overridden by using ",(0,o.kt)("inlineCode",{parentName:"strong"},"type () => [Type]"))),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Something {\n  @prop({ dim: 3, type: String })\n  public propy: string[][][];\n  //or\n  @prop({ type: () => [[[String]]] })\n  public propy: string[][][];\n}\n\n// This would be mapped to\n{\n  type: [[[{ type: String }]]]\n}\n")),(0,o.kt)("p",null,"This option ",(0,o.kt)("inlineCode",{parentName:"p"},"dim")," can be ommitted, when used with the ",(0,o.kt)("inlineCode",{parentName:"p"},"() => [Type]")," syntax (since ",(0,o.kt)("inlineCode",{parentName:"p"},"7.4.0"),"):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class ArrayInType {\n  @prop({ type: () => [[String]] }) // dim is 2\n  public propy: string[][];\n\n  @prop({ type: () => [String] }) // dim is 1\n  public propy: string[];\n}\n")),(0,o.kt)("h2",{id:"map-options"},"Map Options"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class SomeMapClass1 {\n  @prop({ type: String })\n  public lookup?: Map<string, string>; // "Map<any, any>" or "mongoose.Types.Map<any>" is needed to be detected as a Map\n}\n\nclass SomeMapClass2 {\n  @prop({ type: () => String }, PropType.MAP) // explicitly define the "PropType"\n  public lookup?: Map<string, string>;\n}\n\n// Extra Examples with different types\n// Example: Primitive-Arrays\nclass SomeMapClass3 {\n  @prop({ type: () => [String] })\n  public lookup?: Map<string, string[]>;\n}\n\n// Example: SubDocuments\nclass Nested {\n  @prop()\n  public dummy?: string;\n}\nclass SomeMapClass3 {\n  @prop({ type: () => Nested, _id: false })\n  public lookup?: Map<string, Nested>;\n}\n\n// Example: SubDocument-Arrays (since 8.1.1)\nclass Nested {\n  @prop()\n  public dummy?: string;\n}\nclass SomeMapClass3 {\n  @prop({ type: () => [Nested], _id: false })\n  public lookup?: Map<string, Nested[]>;\n}\n')),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("inlineCode",{parentName:"p"},"type")," can be Primitives, Primitive-Arrays, SubDocuments(Classes) and SubDocument(Class)-Arrays"))),(0,o.kt)("h2",{id:"string-transform-options"},"String Transform options"),(0,o.kt)("h3",{id:"lowercase"},"lowercase"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Set this to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", if the value should always be transformed to be lowercased."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class LowerCased {\n  @prop({ lowercase: true })\n  public lowerCase: string; // "HELLO" -> "hello"\n}\n')),(0,o.kt)("h3",{id:"uppercase"},"uppercase"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Set this to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", if the value should always be transformed to be UPPERCASE. "),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class UpperCased {\n  @prop({ uppercase: true })\n  public upperCase: string; // "hello" -> "HELLO"\n}\n')),(0,o.kt)("h3",{id:"trim"},"trim"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean")),(0,o.kt)("p",null,"Set this to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", if the value should always be trimmed."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'class Trimmed {\n  @prop({ trim: true })\n  public trim: string; // "   Trim me   " -> "Trim me"\n}\n')),(0,o.kt)("h2",{id:"string-validation-options"},"String Validation options"),(0,o.kt)("h3",{id:"maxlength"},"maxlength"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"number")),(0,o.kt)("p",null,"Sets the maximum length the string can have."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class MaxLengthed {\n  @prop({ maxlength: 10 })\n  public maxlengthed?: string; // the string can only be 10 characters long\n}\n")),(0,o.kt)("h3",{id:"minlength"},"minlength"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"number")),(0,o.kt)("p",null,"Sets the minimum length the string can have (must be above 0)."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class MinLengthed {\n  @prop({ minlength: 10 })\n  public minlengthed?: string; // the string must be at least 10 characters long\n}\n")),(0,o.kt)("h3",{id:"match"},"match"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"RegExp")),(0,o.kt)("p",null,"Sets a Regular Expression for the string must match."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class RegExpString {\n  @prop({ match: /^H/i })\n  public matched?: string;\n}\n")),(0,o.kt)("h2",{id:"number-validation-options"},"Number Validation options"),(0,o.kt)("h3",{id:"max"},"max"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"number")),(0,o.kt)("p",null,"Sets the maximum value the number property can have."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Maxed {\n  @prop({ max: 10 })\n  public maxed?: number; // the value can be at most 10\n}\n")),(0,o.kt)("h3",{id:"min"},"min"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"number")),(0,o.kt)("p",null,"Sets the minimum value the number property can have."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class Mined {\n  @prop({ min: 0 })\n  public mined?: number; // the value must be at least 0\n}\n")),(0,o.kt)("h2",{id:"virtual-populate-options"},"Virtual Populate Options"),(0,o.kt)("p",null,"Options for ",(0,o.kt)("a",{parentName:"p",href:"/typegoose/docs/api/virtuals#virtual-populate"},"Virtual Populate")),(0,o.kt)("h3",{id:"virtual-populate-ref"},"ref"),(0,o.kt)("p",null,"Required: yes, if using virtual populate"),(0,o.kt)("p",null,"For Options and Typings, see normal ",(0,o.kt)("a",{parentName:"p",href:"#ref"},(0,o.kt)("inlineCode",{parentName:"a"},"ref")),"."),(0,o.kt)("h3",{id:"foreignfield"},"foreignField"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"string | DynamicStringFunc<any>"),(0,o.kt)("br",{parentName:"p"}),"\n","Required: yes, if using virtual populate"),(0,o.kt)("p",null,"Set the field to look at in the remote document and be compared with the field set by ",(0,o.kt)("a",{parentName:"p",href:"#localfield"},(0,o.kt)("inlineCode",{parentName:"a"},"localField")),"."),(0,o.kt)("h3",{id:"localfield"},"localField"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"string | DynamicStringFunc<any>"),(0,o.kt)("br",{parentName:"p"}),"\n","Required: yes, if using virtual populate"),(0,o.kt)("p",null,"Set the field to look at in the local document and be compared with the field set by ",(0,o.kt)("a",{parentName:"p",href:"#foreignfield"},(0,o.kt)("inlineCode",{parentName:"a"},"foreignField")),"."),(0,o.kt)("h3",{id:"justone"},"justOne"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean"),(0,o.kt)("br",{parentName:"p"}),"\n","Conflicts with: ",(0,o.kt)("a",{parentName:"p",href:"#count"},(0,o.kt)("inlineCode",{parentName:"a"},"count"))),(0,o.kt)("p",null,"Set wheter the query should only return one document instead of a array of documents."),(0,o.kt)("h3",{id:"count"},"count"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"boolean"),(0,o.kt)("br",{parentName:"p"}),"\n","Conflicts with: ",(0,o.kt)("a",{parentName:"p",href:"#justone"},(0,o.kt)("inlineCode",{parentName:"a"},"justOne"))),(0,o.kt)("p",null,"Set wheter the query should return a count of found documents instead of the documents themself."),(0,o.kt)("h3",{id:"virtual-populate-options-option"},"options"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"mongoose.QueryOptions")),(0,o.kt)("p",null,"Set custom options to be used in the query for virtual populate."),(0,o.kt)("h3",{id:"virtual-populate-match"},"match"),(0,o.kt)("p",null,"Accepts Type: ",(0,o.kt)("inlineCode",{parentName:"p"},"object | (doc) => object")),(0,o.kt)("p",null,"Set a custom matcher for virtual populate."),(0,o.kt)("a",{name:"whatisit"}),(0,o.kt)("h2",{id:"proptype"},"PropType"),(0,o.kt)("p",null,"This is an Enum to represent what the prop should be, this is in most cases automatically set. It can be overridden in the second parameter of ",(0,o.kt)("inlineCode",{parentName:"p"},"@prop")),(0,o.kt)("p",null,"Full Enum:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"enum PropType {\n  ARRAY,\n  MAP,\n  NONE // default for properties if no Map / Array is detected\n}\n")),(0,o.kt)("p",null,"For Examples, look at:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#single-options"},"Single Options")," - ",(0,o.kt)("inlineCode",{parentName:"li"},"NONE")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#array-options"},"Array Options")," - ",(0,o.kt)("inlineCode",{parentName:"li"},"ARRAY")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#map-options"},"Map Options")," - ",(0,o.kt)("inlineCode",{parentName:"li"},"MAP"))),(0,o.kt)("h2",{id:"passthrough-class"},"Passthrough Class"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"It is not recommended to use this class, it should always be another class if nesting, like ",(0,o.kt)("a",{parentName:"p",href:"/typegoose/docs/guides/quick-start-guide/#quick-overview-of-typegoose"},"in the quick-start-guide")," is wanted"))),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"Passthrough"),' class is, like the name implies, is to pass-through a schema definition directly, without "wrapping" it in a ',(0,o.kt)("inlineCode",{parentName:"p"},"new Schema({})")," explicitly."),(0,o.kt)("h3",{id:"passthrough-nondirect"},"Non-Direct"),(0,o.kt)("p",null,"Using the ",(0,o.kt)("inlineCode",{parentName:"p"},"Passthrough")," class this way will be from mongoose 6.0 onward the same as doing another class (see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Automattic/mongoose/issues/7181"},"Mongoose#7181"),").",(0,o.kt)("br",{parentName:"p"}),"\n","Also see the ",(0,o.kt)("a",{parentName:"p",href:"/typegoose/docs/guides/faq#do-all-classes-get-compiled-to-their-own-mongooseschema"},"FAQ ",(0,o.kt)("inlineCode",{parentName:"a"},'Do all Classes get compiled to their own "mongoose.Schema"?')),"."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"It should be noted that using this method no typegoose transformations or warnings will be applied to what is inside ",(0,o.kt)("inlineCode",{parentName:"p"},"Passthrough.raw")," (like ",(0,o.kt)("inlineCode",{parentName:"p"},"type: () => Class")," will not be translated, it will stay as-is)."))),(0,o.kt)("p",null,"There is also a option to set the ",(0,o.kt)("inlineCode",{parentName:"p"},"Passthrough")," class to ",(0,o.kt)("inlineCode",{parentName:"p"},"direct")," mode (with the second parameter), this will mean that absolutlely no typegoose process is applied (everything has to be done manually), see ",(0,o.kt)("a",{parentName:"p",href:"#passthrough-direct"},"Passthrough-Class#Direct"),"."),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.NONE"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class PassthroughNoDirect {\n  @prop()\n  public normalProp?: string;\n\n  @prop({ type: () => new Passthrough({ somePath: String }) })\n  public child?: { somePath: string };\n}\n\n// would be equal to\n\nnew mongoose.Schema({\n  normalProp: {\n    type: String\n  },\n  child: {\n    type: {\n      somePath: String\n    }\n  }\n})\n")),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.ARRAY"),":"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This was not working before mongoose 6.0.9, see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Automattic/mongoose/issues/10750"},"issue #10750"),"."))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},'Using this way will throw a "Mixed" warning for property ',(0,o.kt)("inlineCode",{parentName:"p"},"child"),", because at the time where typegoose checks types is way before it being a proper Type."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class PassthroughNoDirect {\n  @prop({ type: () => new Passthrough({ somePath: String }) })\n  public child?: [{ somePath: string }]\n}\n\n// would be equal to\nnew mongoose.Schema({\n  child: {\n    type: [{\n      somePath: String\n    }]\n  }\n})\n")),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.MAP"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class PassthroughNoDirect {\n  @prop({ type: () => new Passthrough({ someProp: String }) })\n  public child?: Map<string, { someProp: string }>;\n}\n\n// would be equal to\nnew mongoose.Schema({\n  child: {\n    type: Map,\n    of: {\n      type: {\n        someProp: String\n      }\n    }\n  }\n})\n")),(0,o.kt)("h3",{id:"passthrough-direct"},"Direct"),(0,o.kt)("p",null,"The option ",(0,o.kt)("inlineCode",{parentName:"p"},"direct")," (second parameter to ",(0,o.kt)("inlineCode",{parentName:"p"},"Passthrough"),", default ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),"), is used to set assigning the contents of ",(0,o.kt)("inlineCode",{parentName:"p"},"raw")," (first parameter to ",(0,o.kt)("inlineCode",{parentName:"p"},"Passthrough"),") directly, with no processing on the typegoose side or preceding ",(0,o.kt)("inlineCode",{parentName:"p"},"type:"),"."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"With the option ",(0,o.kt)("inlineCode",{parentName:"p"},"direct")," set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", no other option will be applied (even when defined) (like defining ",(0,o.kt)("inlineCode",{parentName:"p"},"required"),", will have no effect).  "),(0,o.kt)("p",{parentName:"div"},"The most obvious one being that no ",(0,o.kt)("inlineCode",{parentName:"p"},"type:")," will be in-front of what ",(0,o.kt)("inlineCode",{parentName:"p"},"Passthrough")," holds."))),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.NONE"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class PassthroughWithDirect {\n  @prop({ type: () => new Passthrough({ somePath: String }, true) })\n  public child?: { somePath: string; };\n}\n\n// would be equal to\n\nnew mongoose.Schema({\n  child: {\n    somePath: String\n  }\n})\n")),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.ARRAY"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class PassthroughWithDirect {\n  @prop({ type: () => new Passthrough([{ somePath: String }], true) })\n  public child?: [{ somePath: string; }];\n}\n\n// would be equal to\n\nnew mongoose.Schema({\n  child: [{ somePath: String }]\n})\n")),(0,o.kt)("p",null,"Example for ",(0,o.kt)("inlineCode",{parentName:"p"},"PropType.MAP"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"class PassthroughWithDirect {\n  @prop({ type: () => new Passthrough({ type: Map, of: { somePath: String } }, true) })\n  public child?: Map<string, { somePath: string }>;\n}\n\n// would be equal to\n\nnew mongoose.Schema({\n  child: {\n    type: Map,\n    of: {\n      somePath: String\n    }\n  }\n})\n")))}u.isMDXComponent=!0}}]);